import { Pool, neonConfig } from '@neondatabase/serverless'; import ws from 'ws'; neonConfig.webSocketConstructor = ws; async function test() { try { const p1 = new Pool({connectionString: 'postgresql://neondb_owner:npg_0lhALWGEUDp3@ep-curly-rice-a1kqd8hu-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require'}); await p1.query('SELECT 1'); console.log('pooler SUCCESS'); } catch(e) { console.log('pooler FAIL', e); } try { const p2 = new Pool({connectionString: 'postgresql://neondb_owner:npg_0lhALWGEUDp3@ep-curly-rice-a1kqd8hu.ap-southeast-1.aws.neon.tech/neondb?sslmode=require'}); await p2.query('SELECT 1'); console.log('direct SUCCESS'); } catch(e) { console.log('direct FAIL', e); } process.exit(0); } test();  
